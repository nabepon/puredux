!function(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.Puredux=n():e.Puredux=n()}(this,function(){return function(e){function n(o){if(t[o])return t[o].exports;var r=t[o]={exports:{},id:o,loaded:!1};return e[o].call(r.exports,r,r.exports,n),r.loaded=!0,r.exports}var t={};return n.m=e,n.c=t,n.p="",n(0)}([function(e,n,t){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}n.__esModule=!0,n.swapElement=n.recurseObject=n.recurseEqual=n.shouldComponentUpdate=n.mapDispatchToActions=n.createTemplate=n.setConfig=n.Component=void 0;var r=t(1),u=o(r),i=t(2),l=o(i),c=t(4),a=o(c),p=t(3);n.Component=u["default"],n.setConfig=a["default"],n.createTemplate=l["default"],n.mapDispatchToActions=p.mapDispatchToActions,n.shouldComponentUpdate=p.shouldComponentUpdate,n.recurseEqual=p.recurseEqual,n.recurseObject=p.recurseObject,n.swapElement=p.swapElement},function(e,n,t){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,n){for(var t=0;n.length>t;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(n,t,o){return t&&e(n.prototype,t),o&&e(n,o),n}}(),l=t(2),c=o(l),a=t(3),p=function(){function e(n){r(this,e),this.tagName="div",this.Actions={},this.actions=null,this.option=null,this.children=null,this.state={},this.props=null,this.prevProps=null,this.enableThisReference=!1,this.renderChildrenDependsOnParent=!1,this.shouldComponentUpdate=a.shouldComponentUpdate,this.templateCache=null;var t=this;return t.initialize.bind(t).apply(t,arguments),t.isPureduxComponent=!0,t.el=document.createElement(n&&n.tagName||t.tagName||"div"),t.option=n,t.__isMountRender=!0,t.onClick=t.onClick?t.onClick.bind(t):null,t.renderSuper=t.render,t}return i(e,[{key:"createInstanceRef",value:function(e){var n=this;"object"===u(e.instance)?n.instance=e.instance:e.instance=n}},{key:"initialize",value:function(){}},{key:"componentWillMount",value:function(){}},{key:"componentWillUpdate",value:function(){}},{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(){}},{key:"componentWillUnmount",value:function(){}},{key:"attachChildren",value:function(){}},{key:"noop",value:function(){}},{key:"createTemplate",value:function(){}},{key:"template",value:function(e){var n=this.instance||this;if(!n.templateCache){var t=n.createTemplate(e),o=void 0===t?"undefined":u(t);n.templateCache="function"===o?t:(0,c["default"])("string"===o?t:"")}return n.templateCache(e)}},{key:"$",value:function(e){return this.el.querySelector(e)}},{key:"updateRender",value:function(){var e=this;return e.el.innerHTML=e.template.apply(e,arguments),e}},{key:"render",value:function(e){var n=this,t=n.__isMountRender,o=n.prevProps;return n.prevProps=o,n.props=e,t&&(n.onClick&&n.el.addEventListener("click",n.onClick,!1),n.actions=(0,a.mapDispatchToActions)(n.dispatch||n.noop,n.Actions),n.children=n.attachChildren(e)||{},n.componentWillMount()),n.componentWillUpdate(t),(t||n.shouldComponentUpdate(o,e))&&(n.__isMountRender=!1,n.updateRender(e)),t&&n.componentDidMount(),n.componentDidUpdate(t),n}},{key:"unmount",value:function(){var e=this;return e.el.parentNode.removeChild(e.el),e.componentWillUnmount(),(0,a.recurseObject)(e.children,function(e){return e.isPureduxComponent},function(e){return e.unmount(),e}),e.onClick&&e.el.removeEventListener("click",e.onClick,!1),e.actions=null,e.children=null,e.props=null,e.prevProps=null,e.state={},e.__isMountRender=!0,e}}]),e}();n["default"]=p,p.extend=function(e){var n=function t(){t.prototype.__proto__=p.prototype,p.apply(this,arguments)};return n.prototype=e,n}},function(e,n){"use strict";function t(e){return"\\"+i[e]}function o(e){var n=0,o="__p+='";return e.replace(c,function(r,u,i,c,a){return o+=e.slice(n,a).replace(l,t),u?o+="'+\n((__t=("+u+"))==null?'':_escape(__t))+\n'":i?o+="'+\n((__t=("+i+"))==null?'':__t)+\n'":c&&(o+="';\n"+c+"\n__p+='"),n=a+r.length,r}),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\nwith(obj||{}){\n"+o+"';\n}\nreturn __p;\n",Function("obj",o)}n.__esModule=!0,n["default"]=o;var r=["&","<",">",'"',"'","`"],u="(?:"+r.join("|")+")",i=(RegExp(u),RegExp(u,"g"),{"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"}),l=/\\|'|\r|\n|\u2028|\u2029/g,c=RegExp([/<%-([\s\S]+?)%>/g.source,/<%=([\s\S]+?)%>/g.source,/<%([\s\S]+?)%>/g.source].join("|")+"|$","g")},function(e,n){"use strict";function t(e,n){var t={};return c(n).map(function(o){"function"==typeof n[o]&&(t[o]=function(){e(n[o].apply(null,arguments))})}),t}function o(e,n){return!r(e,n,1)}function r(e,n,t){if(e===n)return!0;if("object"!==(void 0===e?"undefined":l(e))||null===e||"object"!==(void 0===n?"undefined":l(n))||null===n)return e===n;var o=c(n),u=c(e);if(u.length!==o.length)return!1;for(var i=0;o.length>i;i++){if(!e.hasOwnProperty(o[i]))return!1;if(t&&!r(e[o[i]],n[o[i]],t-1))return!1;if(e[o[i]]!==n[o[i]])return!1}return!0}function u(e,n,t){return"object"!==(void 0===e?"undefined":l(e))||null===e?t(e):(c(e).map(function(o){n&&n(e[o])?e[o]=t(e[o]):u(e[o],n,t)}),e)}function i(e,n,t){var o=e.querySelector(n);o&&(o.parentNode.insertBefore(t,o),e.removeChild(o))}n.__esModule=!0;var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};n.mapDispatchToActions=t,n.shouldComponentUpdate=o,n.recurseEqual=r,n.recurseObject=u,n.swapElement=i;var c=Object.keys},function(e,n,t){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e){e.dispatch&&(i["default"].prototype.dispatch=e.dispatch)}n.__esModule=!0,n["default"]=r;var u=t(1),i=o(u)}])});