!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Puredux=t():e.Puredux=t()}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t.hasClass=t.replaceChild=t.recurseObject=t.recurseEqual=t.shallowCompare=t.setConfig=t.Component=void 0;var o=n(1),u=r(o),i=n(3),l=r(i),c=n(2);t.Component=u["default"],t.setConfig=l["default"],t.shallowCompare=c.shallowCompare,t.recurseEqual=c.recurseEqual,t.recurseObject=c.recurseObject,t.replaceChild=c.replaceChild,t.hasClass=c.hasClass},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;t.length>n;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(4),c=r(l),a=n(2),p=function(){function e(t){o(this,e),this.tagName="div",this.Actions={},this.state={},this.props=null,this.prevProps=null,this.isFirstRender=!0,this.actions=null,this.children=null,this.option=null,this.isPureduxComponent=!0,this.templateCache=null;var n=this;return n.option=t,n.initialize.bind(n).apply(n,arguments),n.onClick=n.onClick?n.onClick.bind(n):null,n.el=document.createElement(t&&t.tagName||n.tagName||"div"),n.updateRender=n.render,n.render=n.renderer,n.updateTemplate=n.createTemplate,n}return i(e,[{key:"initialize",value:function(){}},{key:"attachChildren",value:function(){}},{key:"template",value:function(){return""}},{key:"shouldComponentUpdate",value:function(){return!0}},{key:"render",value:function(e){this.renderTemplate(e)}},{key:"componentWillMount",value:function(){}},{key:"componentWillUpdate",value:function(){}},{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(){}},{key:"componentWillUnmount",value:function(){}},{key:"renderTemplate",value:function(e){return this.el.innerHTML=this.updateTemplate(e),this}},{key:"replaceChildren",value:function(){for(var e=this.el.querySelectorAll("[data-replace]"),t=0;e.length>t;t++){var n=e[t],r=Function("return this.children."+n.dataset.replace).bind(this)();r&&this.el.replaceChild(r.el,n)}}},{key:"$",value:function(e){return this.el.querySelector(e)}},{key:"createInstanceRef",value:function(e){var t=this;"object"===u(e.instance)?t.instance=e.instance:e.instance=t}},{key:"unmount",value:function(){var e=this;return e.el.parentNode.removeChild(e.el),e.componentWillUnmount(),(0,a.recurseObject)(e.children,function(e){return e.isPureduxComponent},function(e){return e.unmount(),e}),e.onClick&&e.el.removeEventListener("click",e.onClick,!1),e.actions=null,e.children=null,e.props=null,e.prevProps=null,e.state={},e.isFirstRender=!0,e}},{key:"createTemplate",value:function(e){var t=this.instance||this;if(!t.templateCache){var n=t.template(e);t.templateCache="function"==typeof n?n:(0,c["default"])(n)}return t.updateTemplate=t.templateCache,t.templateCache(e)}},{key:"renderer",value:function(e){var t=this,n=t.isFirstRender;return t.prevProps=t.props,t.props=e,n&&(t.onClick&&t.el.addEventListener("click",t.onClick,!1),t.actions=(0,a.bindActionCreators)(t.dispatch,t.dispatcher,t.Actions),t.children=t.attachChildren(e)||{},t.componentWillMount()),t.componentWillUpdate(),(n||t.shouldComponentUpdate(t.prevProps,e))&&t.updateRender.apply(t,arguments),n&&t.componentDidMount(),t.componentDidUpdate(),t.isFirstRender=!1,t}}]),e}();t["default"]=p,p.extend=function(e){var t=function n(){n.prototype.__proto__=p.prototype,p.apply(this,arguments)};return t.prototype=e,t}},function(e,t){"use strict";function n(e,t,n){var r={};return a(n).map(function(o){"function"==typeof n[o]&&(r[o]=e?function(){return e(n[o].apply(null,arguments))}:t?t(n[o]):n[o])}),r}function r(e,t){return!o(e,t,1)}function o(e,t,n){if(e===t)return!0;if("object"!==(void 0===e?"undefined":c(e))||null===e||"object"!==(void 0===t?"undefined":c(t))||null===t)return e===t;var r=a(t),u=a(e);if(u.length!==r.length)return!1;for(var i=0;r.length>i;i++){if(!e.hasOwnProperty(r[i]))return!1;if(n&&!o(e[r[i]],t[r[i]],n-1))return!1;if(e[r[i]]!==t[r[i]])return!1}return!0}function u(e,t,n){return"object"!==(void 0===e?"undefined":c(e))||null===e?n(e):(a(e).map(function(r){t&&t(e[r])?e[r]=n(e[r]):u(e[r],t,n)}),e)}function i(e,t,n){var r=e.querySelector(t);r&&e.replaceChild(n,r)}function l(e,t){return e.target.classList.contains(t)}t.__esModule=!0;var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.bindActionCreators=n,t.shallowCompare=r,t.recurseEqual=o,t.recurseObject=u,t.replaceChild=i,t.hasClass=l;var a=Object.keys},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.dispatch&&(i["default"].prototype.dispatch=e.dispatch),e.dispatcher&&(i["default"].prototype.dispatcher=e.dispatcher)}t.__esModule=!0,t["default"]=o;var u=n(1),i=r(u)},function(e,t){"use strict";function n(e){return c[e]}function r(e){return e=null==e?"":""+e,p.test(e)?e.replace(s,n):e}function o(e){return"\\"+f[e]}function u(e){var t=0,n="__p+='";e.replace(y,function(r,u,i,l,c){return n+=e.slice(t,c).replace(d,o),u?n+="'+\n((__t=("+u+"))==null?'':_escape(__t))+\n'":i?n+="'+\n((__t=("+i+"))==null?'':__t)+\n'":l&&(n+="';\n"+l+"\n__p+='"),t=c+r.length,r}),n="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\nwith(obj||{}){\n"+n+"';\n}\nreturn __p;\n";try{var u=function(){var e=Function("obj","_escape",n);return{v:function(t){return e.call(this,t,r)}}}();if("object"===(void 0===u?"undefined":i(u)))return u.v}catch(e){throw e.source=n,e}}t.__esModule=!0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t["default"]=u;var l=["&","<",">",'"',"'","`"],c={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},a="(?:"+l.join("|")+")",p=RegExp(a),s=RegExp(a,"g"),f={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},d=/\\|'|\r|\n|\u2028|\u2029/g,y=RegExp([/<%-([\s\S]+?)%>/g.source,/<%=([\s\S]+?)%>/g.source,/<%([\s\S]+?)%>/g.source].join("|")+"|$","g")}])});