!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.Puredux=t():e.Puredux=t()}(this,function(){return function(e){function t(o){if(n[o])return n[o].exports;var r=n[o]={exports:{},id:o,loaded:!1};return e[o].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0,t.hasClass=t.swapElement=t.recurseObject=t.recurseEqual=t.shallowCompare=t.setConfig=t.Component=void 0;var r=n(1),u=o(r),i=n(3),l=o(i),a=n(2);t.Component=u["default"],t.setConfig=l["default"],t.shallowCompare=a.shallowCompare,t.recurseEqual=a.recurseEqual,t.recurseObject=a.recurseObject,t.swapElement=a.swapElement,t.hasClass=a.hasClass},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;t.length>n;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),l=n(4),a=o(l),c=n(2),s=function(){function e(t){r(this,e),this.tagName="div",this.Actions={},this.state={},this.props=null,this.prevProps=null,this.isFirstRender=!0,this.actions=null,this.children=null,this.option=null,this.isPureduxComponent=!0,this.templateCache=null;var n=this;return n.option=t,n.initialize.bind(n).apply(n,arguments),n.onClick=n.onClick?n.onClick.bind(n):null,n.el=document.createElement(t&&t.tagName||n.tagName||"div"),n.updateRender=n.render,n.render=n.renderer,n.updateTemplate=n.createTemplate,n}return i(e,[{key:"initialize",value:function(){}},{key:"attachChildren",value:function(){}},{key:"template",value:function(){return""}},{key:"shouldComponentUpdate",value:function(){return!0}},{key:"render",value:function(e){this.renderTemplate(e)}},{key:"componentWillMount",value:function(){}},{key:"componentWillUpdate",value:function(){}},{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(){}},{key:"componentWillUnmount",value:function(){}},{key:"renderTemplate",value:function(e){return this.el.innerHTML=this.updateTemplate(e),this}},{key:"$",value:function(e){return this.el.querySelector(e)}},{key:"createInstanceRef",value:function(e){var t=this;"object"===u(e.instance)?t.instance=e.instance:e.instance=t}},{key:"unmount",value:function(){var e=this;return e.el.parentNode.removeChild(e.el),e.componentWillUnmount(),(0,c.recurseObject)(e.children,function(e){return e.isPureduxComponent},function(e){return e.unmount(),e}),e.onClick&&e.el.removeEventListener("click",e.onClick,!1),e.actions=null,e.children=null,e.props=null,e.prevProps=null,e.state={},e.isFirstRender=!0,e}},{key:"createTemplate",value:function(e){var t=this.instance||this;if(!t.templateCache){var n=t.template(e);t.templateCache="function"==typeof n?n:(0,a["default"])(n)}return t.updateTemplate=t.templateCache,t.templateCache(e)}},{key:"renderer",value:function(e){var t=this,n=t.isFirstRender;return t.prevProps=t.props,t.props=e,n&&(t.onClick&&t.el.addEventListener("click",t.onClick,!1),t.actions=(0,c.bindActionCreators)(t.dispatch,t.dispatcher,t.Actions),t.children=t.attachChildren(e)||{},t.componentWillMount()),t.componentWillUpdate(),(n||t.shouldComponentUpdate(t.prevProps,e))&&t.updateRender.apply(t,arguments),n&&t.componentDidMount(),t.componentDidUpdate(),t.isFirstRender=!1,t}}]),e}();t["default"]=s,s.extend=function(e){var t=function n(){n.prototype.__proto__=s.prototype,s.apply(this,arguments)};return t.prototype=e,t}},function(e,t){"use strict";function n(e,t,n){var o={};return c(n).map(function(r){"function"==typeof n[r]&&(o[r]=e?function(){return e(n[r].apply(null,arguments))}:t?t(n[r]):n[r])}),o}function o(e,t){return!r(e,t,1)}function r(e,t,n){if(e===t)return!0;if("object"!==(void 0===e?"undefined":a(e))||null===e||"object"!==(void 0===t?"undefined":a(t))||null===t)return e===t;var o=c(t),u=c(e);if(u.length!==o.length)return!1;for(var i=0;o.length>i;i++){if(!e.hasOwnProperty(o[i]))return!1;if(n&&!r(e[o[i]],t[o[i]],n-1))return!1;if(e[o[i]]!==t[o[i]])return!1}return!0}function u(e,t,n){return"object"!==(void 0===e?"undefined":a(e))||null===e?n(e):(c(e).map(function(o){t&&t(e[o])?e[o]=n(e[o]):u(e[o],t,n)}),e)}function i(e,t,n){var o=e.querySelector(t);o&&(o.parentNode.insertBefore(n,o),e.removeChild(o))}function l(e,t){return e.target.classList.contains(t)}t.__esModule=!0;var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.bindActionCreators=n,t.shallowCompare=o,t.recurseEqual=r,t.recurseObject=u,t.swapElement=i,t.hasClass=l;var c=Object.keys},function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.dispatch&&(i["default"].prototype.dispatch=e.dispatch),e.dispatcher&&(i["default"].prototype.dispatcher=e.dispatcher)}t.__esModule=!0,t["default"]=r;var u=n(1),i=o(u)},function(e,t){"use strict";function n(e){return"\\"+i[e]}function o(e){var t=0,o="__p+='";return e.replace(a,function(r,u,i,a,c){return o+=e.slice(t,c).replace(l,n),u?o+="'+\n((__t=("+u+"))==null?'':_escape(__t))+\n'":i?o+="'+\n((__t=("+i+"))==null?'':__t)+\n'":a&&(o+="';\n"+a+"\n__p+='"),t=c+r.length,r}),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\nwith(obj||{}){\n"+o+"';\n}\nreturn __p;\n",Function("obj",o)}t.__esModule=!0,t["default"]=o;var r=["&","<",">",'"',"'","`"],u="(?:"+r.join("|")+")",i=(RegExp(u),RegExp(u,"g"),{"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"}),l=/\\|'|\r|\n|\u2028|\u2029/g,a=RegExp([/<%-([\s\S]+?)%>/g.source,/<%=([\s\S]+?)%>/g.source,/<%([\s\S]+?)%>/g.source].join("|")+"|$","g")}])});